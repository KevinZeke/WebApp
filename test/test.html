<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">
<title>H5</title>
<link rel="stylesheet" href="">
<script src="../js/jQ/jquery-3.1.1.min.js"></script>
<script src="../js/jQ/jquery.fullPage.js"></script>
<script src="../js/jQ/jquery-ui.min.js"></script>
<style>
	body{
		margin: 0;
		padding: 0;
	}
	.component{
		width: 50%;
		height: 50px;
		margin-bottom: 30px;
		background: #eee;
		display: none;
	}
</style>
<script>
$(function()
{
	//section
	$('#h5').fullpage({
		sectionsColor:['red','green','blue'],
		onLeave:function(index, nextIndex, direction)
		{
			//this指向正在离开的页面
			$('#h5').find('.page').eq(index-1).trigger('onleave');
		},
		afterLoad:function(anchorLink,index)
		{
			$('#h5').find('.page').eq(index-1).trigger('onload');
		}
	});

	$('.page').on('onleave',function()
	{
		//使用吧triggerhandler只会模拟第一个component的事件
		$(this).find('.component').trigger('onleave');
	})
	$('.page').on('onload',function()
	{
		$(this).find('.component').trigger('onload');
	})
});
</script>
</head>
<body>
<div id="h5">
	<div class="page section" id="page-1">
		<div class="component logo">logo</div>
		<div class="component slogan">slogan</div>
		<div class="component">footer</div>
	</div>
	<div class="page section" id="page-2">
		<div class="component desc">desc</div>
	</div>
	<div class="page section" id="page-3">
		<div class="component bar">bar</div>
	</div>
</div>
</body>
</html>